graph_api:
  token_required_responses: &token_required
    no_token: '{"error":{"type":"OAuthAccessTokenException", "message":"An access token is required to request this resource."}}'
     
  root: 
    ids=contextoptional,naitik: 
      get:
        with_token: '[{}, {}]'
        no_token: '[{}, {}]'
  me:
    no_args:
      get:
        <<: *token_required
        with_token: '{"updated_time": 1}'
    fields=id:
      get: 
        with_token: '{"id": "216743"}'
        
  me/feed:
    message=Hello, world, from the test suite!: 
      post: 
        with_token: '{"id": "MOCK_FEED_ITEM"}'
    message=Hello, world, from the test suite, testing comments!:
      post:
        with_token: '{"id": "MOCK_FEED_ITEM"}'
    message=the cats are asleep: 
      post: 
        with_token: '{"id": "FEED_ITEM_CATS"}'
    message=Hello, world, from the test suite delete method!: 
      post: 
        with_token: '{"id": "FEED_ITEM_DELETE"}'
    link=http://www.contextoptional.com/&message=Hello, world, from the test suite again!&name=Context Optional:
      post:
        with_token: '{"id": "FEED_ITEM_CONTEXT"}'
        
  koppel:
    no_args:
      get:
        with_token: '{"id": 1, "name": 1, "updated_time": 1}'
        no_token: '{"id": 1, "name": 1}'
        
        
  contextoptional:
    no_args:
      get:
        with_token: '{"id": 1, "name": 1}'
        no_token: '{"id": 1, "name": 1}'
  contextoptional/likes: 
    no_args: 
      get: 
        with_token: '{"data": [{}]}'
        no_token: '{"data": [{}]}'
  lukeshepard/likes: 
    no_args: 
      get: 
        <<: *token_required
        with_token: '{"data": [{}]}'
  search:
    q=facebook:
      get: 
        with_token: '{"data": [{"id": "507731521_100412693339488"}]}'
        no_token: '{"data": [{"id": "507731521_100412693339488"}]}'
  '115349521819193_113815981982767':
    no_args:
      delete:
        <<: *token_required
        
  # Mock items
  
  # Common mock item responses
  common_responses: &common_responses
    delete:
      with_token: 'true'
  
  MOCK_FEED_ITEM/likes:
    no_args:
      post:
        with_token: '{"id": "MOCK_LIKE"}'
        
  MOCK_FEED_ITEM/comments:
    message=it's my comment!:
      post:
        with_token: '{"id": "MOCK_COMMENT"}'
  
  MOCK_FEED_ITEM:
    no_args:
      <<: *common_responses
  
  FEED_ITEM_CONTEXT:
    no_args: 
      <<: *common_responses
      get:
        with_token: '{"link":"http://www.contextoptional.com/", "name": "Context Optional"}'
  
  FEED_ITEM_CATS:
    no_args:
      <<: *common_responses
      get: 
        with_token: '{"message": "the cats are asleep"}'
  
  FEED_ITEM_DELETE:
    no_args:
      <<: *common_responses
      
  MOCK_COMMENT:
    no_args:
      <<: *common_responses
      get:
        with_token: "{\"message\": \"it\'s my comment!\"}"
rest_api:
  method/fql.query:
    query=select first_name from user where uid = 216743:
      get: 
        no_token: '[{"first_name":"Chris"}]'
        with_token: '[{"first_name":"Chris"}]'
    query=select read_stream from permissions where uid = 216743:
      get:
        with_token: '[{"read_stream":1}]' 
        no_token: '{"error_code":104,"error_msg":"Requires valid signature","request_args":[{"key":"method","value":"fql.query"},{"key":"format","value":"json"},{"key":"query","value":"select read_stream from permissions where uid = 216743"}]}'

# Common Error responses
# {"error"=>{"type"=>"QueryParseException", "message"=>"An active access token must be used to query information about the current user."}}
# {"error"=>{"type"=>"OAuthAccessTokenException", "message"=>"An access token is required to request this resource."}}
# {"error"=>{"type"=>"Exception", "message"=>"(#200) The user hasn't authorized the application to perform this action"}}        